/* Tailwind CSS v4 Configuration */
@import "tailwindcss";

/* Define custom theme tokens for Tailwind v4 */
@theme {
  /* Color values - RGB triplets without rgb() wrapper */
  --color-primary: 139 92 246;
  --color-secondary: 59 130 246;
  --color-accent: 251 146 60;
  
  /* Background colors */
  --color-bg-primary: 10 11 20;
  --color-bg-secondary: 0 0 0;
  --color-bg-tertiary: 15 16 25;
  
  /* Text colors */
  --color-text-primary: 255 255 255;
  --color-text-secondary: 209 213 219;
  --color-text-muted: 156 163 175;
  
  /* Synthwave theme colors */
  --color-terminal-green: 0 255 65;
  --color-neon-pink: 255 0 110;
  --color-neon-purple: 131 56 236;
  --color-neon-blue: 58 134 255;
  --color-neon-cyan: 6 255 165;
  
  /* Fonts */
  --font-jetbrains: 'JetBrains Mono', monospace;
  --font-fira: 'Fira Code', monospace;
  
  /* Shadows */
  --shadow-glass-sm: 0 4px 16px rgba(0, 0, 0, 0.2);
  --shadow-glass-md: 0 8px 32px rgba(0, 0, 0, 0.3);
  --shadow-glass-lg: 0 16px 64px rgba(0, 0, 0, 0.4);
  --shadow-neon: 0 0 20px rgba(255, 0, 110, 0.8);
}

/* Runtime CSS variables for theme switching */
@layer base {
  :root {
    /* Glass morphism defaults */
    --glass-surface: rgba(255, 255, 255, 0.05);
    --glass-border: rgba(255, 255, 255, 0.1);
    --glass-blur: 20px;
    --glass-blur-light: 12px;
    --glass-blur-medium: 20px;
    --glass-blur-heavy: 32px;
    
    /* Runtime gradients using theme colors */
    --gradient-primary: linear-gradient(135deg, rgb(var(--color-primary)) 0%, rgb(var(--color-secondary)) 100%);
    --gradient-neon: linear-gradient(135deg, rgb(var(--color-neon-pink)) 0%, rgb(var(--color-neon-purple)) 100%);
    
    /* Touch targets */
    --touch-target-min: 44px;
    --touch-target-comfortable: 48px;
    
    /* Neon glow default */
    --neon-glow: var(--shadow-neon);
  }
}

/* Custom Component Classes */
@layer components {
  /* Glass Morphism System */
  .glass-surface {
    background: var(--glass-surface);
    border: 1px solid var(--glass-border);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
  }
  
  .glass-card {
    background: var(--glass-surface);
    border: 1px solid rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    box-shadow: var(--shadow-glass-md);
    border-radius: 1rem;
    padding: 1.5rem;
    transition: all 300ms ease-out;
  }
  
  .glass-card:hover {
    background: rgba(255, 255, 255, 0.1);
    box-shadow: var(--shadow-glass-lg);
    transform: translateY(-4px);
  }
  
  .glass-hero {
    background: var(--glass-surface);
    border: 1px solid rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(32px);
    -webkit-backdrop-filter: blur(32px);
    border-radius: 1rem;
    box-shadow: var(--shadow-glass-lg);
  }
  
  .glass-section {
    background: var(--glass-surface);
    border: 1px solid rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-radius: 1rem;
    box-shadow: var(--shadow-glass-md);
  }
  
  /* Terminal Window System */
  .terminal-window {
    background: var(--glass-surface);
    border: 2px solid rgba(255, 0, 110, 0.3);
    border-radius: 0.5rem;
    font-family: var(--font-jetbrains), monospace;
    box-shadow: var(--neon-glow);
  }
  
  .terminal-header {
    background: var(--bg-tertiary);
    border-bottom: 1px solid rgba(255, 0, 110, 0.3);
    padding: 0.75rem 1rem;
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--terminal-green);
  }
  
  .terminal-title::before {
    content: '> ';
    color: var(--neon-cyan);
  }
  
  /* Enhanced Button System */
  .btn-primary {
    background: var(--gradient-primary);
    color: white;
    font-weight: 600;
    padding: 0.75rem 1.5rem;
    border-radius: 0.75rem;
    transition: all 300ms ease-out;
    min-height: 48px;
    box-shadow: 0 4px 16px rgba(139, 92, 246, 0.2);
  }
  
  .btn-primary:hover {
    box-shadow: 0 8px 32px rgba(139, 92, 246, 0.4);
    transform: translateY(-2px);
  }
  
  .btn-glass {
    background: var(--glass-surface);
    color: var(--text-primary);
    font-weight: 500;
    padding: 0.75rem 1.5rem;
    border-radius: 0.75rem;
    transition: all 300ms ease-out;
    min-height: 48px;
    border: 1px solid var(--glass-border);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
  }
  
  .btn-glass:hover {
    background: rgba(255, 255, 255, 0.15);
    transform: translateY(-1px);
  }
  
  /* Gradient Text */
  .gradient-text {
    background: var(--gradient-primary);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  
  /* Touch Targets - Using fixed values for compatibility */
  .touch-target-min {
    min-height: 44px;
    min-width: 44px;
  }
  
  .touch-target {
    min-height: 48px; 
    min-width: 48px;
  }
  
  /* Performance Utilities */
  .gpu-accelerated {
    transform: translate3d(0, 0, 0);
    will-change: transform;
  }
}

@layer utilities {
  /* Animation Utilities */
  .animate-gradient {
    background-size: 200% 200%;
    animation: gradient 3s ease infinite;
  }
  
  .animate-shimmer {
    background: linear-gradient(90deg, 
      rgba(255, 255, 255, 0.0) 0%, 
      rgba(255, 255, 255, 0.1) 50%, 
      rgba(255, 255, 255, 0.0) 100%);
    background-size: 200% 100%;
    animation: shimmer 2s linear infinite;
  }
  
  .animate-glow {
    animation: glow-pulse 2s ease-in-out infinite;
  }
  
  /* Mobile Glass Effect Optimizations for 60fps */
  @media (max-width: 768px) {
    /* Standard mobile glass (mid-range devices) */
    .glass-card {
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }
    
    /* High-performance mobile glass variants */
    .glass-mobile-high {
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.12);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      transform: translate3d(0, 0, 0); /* Force GPU acceleration */
      will-change: transform, opacity;
    }
  }

  /* Accessibility Classes */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  .sr-only-focusable:focus,
  .sr-only-focusable:active {
    position: static;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }

  /* Focus indicators */
  .focus-visible-enhanced:focus-visible {
    outline: 3px solid rgb(var(--accent-primary));
    outline-offset: 2px;
    box-shadow: 0 0 0 6px rgba(var(--accent-primary), 0.2);
  }

  /* Touch target sizes */
  .touch-target-sm {
    min-width: 32px;
    min-height: 32px;
  }

  .touch-target-lg {
    min-width: 56px;
    min-height: 56px;
  }

  /* Keyboard navigation indicators */
  .keyboard-nav-active {
    outline: 2px solid rgb(var(--accent-primary));
    outline-offset: 2px;
  }

  /* Skip links */
  .skip-link {
    position: absolute;
    top: -40px;
    left: 6px;
    background: rgb(var(--background-primary));
    color: rgb(var(--text-primary));
    padding: 8px;
    text-decoration: none;
    border-radius: 4px;
    border: 2px solid rgb(var(--accent-primary));
    z-index: 9999;
  }

  .skip-link:focus {
    top: 6px;
  }
    
  .glass-mobile-mid {
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      transform: translate3d(0, 0, 0);
    }
    
    .glass-mobile-low {
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }
    
    /* Mobile-optimized animations */
    .glass-card-mobile {
      transition: transform 0.2s cubic-bezier(0.4, 0.0, 0.2, 1),
                  opacity 0.2s cubic-bezier(0.4, 0.0, 0.2, 1);
    }
    
    .glass-card-mobile:hover {
      transform: translateY(-2px) scale(1.01);
    }
    
    .terminal-window {
      border-radius: 0.375rem;
      border-width: 1px;
    }
    
    /* Performance-optimized blur levels for mobile */
    .blur-mobile-light { backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); }
    .blur-mobile-medium { backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); }
    .blur-mobile-heavy { backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px); }
  }
  
  /* Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {
    .glass-card,
    .btn-primary,
    .btn-glass,
    * {
      transition-duration: 0.01ms !important;
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
    }
  }
  
  /* Progressive Enhancement */
  @supports not (backdrop-filter: blur(20px)) {
    .glass-surface,
    .glass-card {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
  }
  
  /* Animation Keyframes */
  @keyframes gradient {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  
  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }
  
  @keyframes glow-pulse {
    0%, 100% { 
      box-shadow: 0 0 20px rgba(139, 92, 246, 0.3); 
    }
    50% { 
      box-shadow: 0 0 40px rgba(139, 92, 246, 0.6), 
                  0 0 60px rgba(139, 92, 246, 0.4); 
    }
  }
  
  @keyframes scan-line {
    0% { transform: translateY(-100%); opacity: 0; }
    50% { opacity: 1; }
    100% { transform: translateY(100vh); opacity: 0; }
  }
  
  /* Progressive Enhancement Animations */
  @keyframes ripple {
    0% {
      width: 0;
      height: 0;
      opacity: 1;
    }
    100% {
      width: 120px;
      height: 120px;
      opacity: 0;
    }
  }

  @keyframes gradient-shift {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  @keyframes pulse-glow {
    0%, 100% {
      opacity: 0.5;
      transform: scale(1);
    }
    50% {
      opacity: 0.8;
      transform: scale(1.05);
    }
  }
  
  /* Terminal scan line animation class */
  .animate-scan-line {
    animation: scan-line 3s ease-in-out infinite;
  }

  /* Progressive Enhancement Utilities */
  .touch-target-sm {
    min-width: 36px;
    min-height: 36px;
  }

  .touch-target-lg {
    min-width: 52px;
    min-height: 52px;
  }

  /* Glass morphism variants for progressive enhancement */
  .glass-light {
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    background: rgba(255, 255, 255, 0.04);
    border: 1px solid rgba(255, 255, 255, 0.08);
  }

  .glass-medium {
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    background: rgba(255, 255, 255, 0.06);
    border: 1px solid rgba(255, 255, 255, 0.12);
  }

  .glass-heavy {
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.16);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  }

  /* High contrast mode support */
  .high-contrast {
    --glass-surface: rgb(var(--background-primary));
    --glass-border: currentColor;
  }

  .high-contrast .glass-card,
  .high-contrast .glass-surface {
    border: 3px solid currentColor;
    background: rgb(var(--background-primary));
    backdrop-filter: none;
  }

  .high-contrast .btn-primary,
  .high-contrast .btn-glass {
    border: 2px solid currentColor;
    background: rgb(var(--background-primary));
  }

  .high-contrast .text-text-secondary {
    color: rgb(var(--text-primary));
  }

  /* Contrast level specific styles */
  .contrast-high {
    filter: contrast(150%);
  }

  .contrast-maximum {
    filter: contrast(200%) brightness(110%);
  }

  .contrast-maximum * {
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
  }
}